using UnityEngine;

/// <summary>
/// Makes an entity invulnerable for a short time after spawning
/// </summary>
[RequireComponent(typeof(Entity))]
public class SpawnInvulnerability : MonoBehaviour
{

	public float invulnerabilityTime = 1f;
	private float spawnTime;
	private Entity entity; 

	private void Awake() { entity = GetComponent<Entity>(); }
	private void OnEnable() { entity.Invulnerable = true; spawnTime = Time.time; }
	
	void Update() {

		if (Time.time - spawnTime > invulnerabilityTime) {
			if (!GameManager.EditMode) { entity.Invulnerable = false; }
			enabled = false;
		}

		// if this component's entity is poolable then this component
		// will be re-enabled when the entity is reActivate()d later

	}

}
